import{c as r,o as l,a as b,b as e,d as u,t as a,F as c,r as x,w as y,e as n,v as m,f as h,N as g}from"./app-DjbF0uAV.js";import{_ as v}from"./_plugin-vue_export-helper-DlAUqK2U.js";const w={name:"AdminCategories",props:{categories:Array},data(){return{showModal:!1,isEdit:!1,editCategoryId:null,form:{name:"",slug:"",description:"",is_active:!0}}},methods:{openAddModal(){this.isEdit=!1,this.editCategoryId=null,this.form={name:"",slug:"",description:"",is_active:!0},this.showModal=!0},openEditModal(o){this.isEdit=!0,this.editCategoryId=o.id,this.form={name:o.name,slug:o.slug,description:o.description,is_active:o.is_active},this.showModal=!0},saveCategory(){this.isEdit?g.put(`/admin/categories/${this.editCategoryId}`,this.form,{onSuccess:()=>this.resetForm()}):g.post("/admin/categories",this.form,{onSuccess:()=>this.resetForm()})},deleteCategory(o){confirm("Are you sure you want to delete this category?")&&g.delete(`/admin/categories/${o}`)},resetForm(){this.showModal=!1,this.isEdit=!1,this.editCategoryId=null,this.form={name:"",slug:"",description:"",is_active:!0}}}},C={class:"min-h-screen bg-gray-50"},_={class:"max-w-4xl mx-auto py-12 px-4 sm:px-6 lg:px-8"},k={key:0,class:"mb-4 p-4 bg-green-100 text-green-800 rounded"},M={key:1,class:"mb-4 p-4 bg-red-100 text-red-800 rounded"},A={class:"bg-white shadow rounded-lg p-6"},E={class:"flex justify-between items-center mb-4"},N={class:"overflow-x-auto"},S={class:"min-w-full divide-y divide-gray-200"},V={class:"bg-white divide-y divide-gray-200"},D={class:"px-6 py-4 whitespace-nowrap"},F={class:"px-6 py-4 whitespace-nowrap"},I={class:"px-6 py-4 whitespace-nowrap"},j={class:"px-6 py-4 whitespace-nowrap"},U=["onClick"],B=["onClick"],q={key:0,class:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50"},Y={class:"bg-white rounded-lg shadow-lg w-full max-w-md p-6 relative"},z={class:"text-xl font-bold mb-4"},L={class:"mb-4"},O={class:"mb-4"},P={class:"mb-4"},T={class:"mb-4"},G={class:"flex justify-end"};function H(o,t,f,J,i,d){return l(),r("div",C,[t[16]||(t[16]=b('<nav class="bg-white shadow mb-8"><div class="max-w-4xl mx-auto px-4 py-4 flex space-x-6"><a href="/admin/dashboard" class="text-gray-700 hover:text-blue-700">Dashboard</a><a href="/admin/products" class="text-gray-700 hover:text-blue-700">Products</a><a href="/admin/categories" class="text-blue-700 font-semibold">Categories</a></div></nav>',1)),e("div",_,[t[9]||(t[9]=e("h1",{class:"text-3xl font-bold text-gray-900 mb-6"},"Category Management",-1)),o.$page.props.flash&&o.$page.props.flash.success?(l(),r("div",k,a(o.$page.props.flash.success),1)):u("",!0),o.$page.props.errors&&Object.keys(o.$page.props.errors).length?(l(),r("div",M,[(l(!0),r(c,null,x(o.$page.props.errors,(s,p)=>(l(),r("div",{key:p},a(s),1))),128))])):u("",!0),e("div",A,[e("div",E,[t[7]||(t[7]=e("h2",{class:"text-xl font-semibold"},"Categories",-1)),e("button",{onClick:t[0]||(t[0]=(...s)=>d.openAddModal&&d.openAddModal(...s)),class:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded"},"Add Category")]),e("div",N,[e("table",S,[t[8]||(t[8]=e("thead",{class:"bg-gray-100"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Name"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Slug"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Active"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Actions")])],-1)),e("tbody",V,[(l(!0),r(c,null,x(f.categories,s=>(l(),r("tr",{key:s.id},[e("td",D,a(s.name),1),e("td",F,a(s.slug),1),e("td",I,a(s.is_active?"Yes":"No"),1),e("td",j,[e("button",{onClick:p=>d.openEditModal(s),class:"text-blue-600 hover:underline mr-2"},"Edit",8,U),e("button",{onClick:p=>d.deleteCategory(s.id),class:"text-red-600 hover:underline"},"Delete",8,B)])]))),128))])])])])]),i.showModal?(l(),r("div",q,[e("div",Y,[e("h2",z,a(i.isEdit?"Edit Category":"Add New Category"),1),e("form",{onSubmit:t[6]||(t[6]=y((...s)=>d.saveCategory&&d.saveCategory(...s),["prevent"]))},[e("div",L,[t[10]||(t[10]=e("label",{class:"block text-gray-700"},"Name",-1)),n(e("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>i.form.name=s),type:"text",class:"w-full border rounded px-3 py-2 mt-1",required:""},null,512),[[m,i.form.name]])]),e("div",O,[t[11]||(t[11]=e("label",{class:"block text-gray-700"},"Slug",-1)),n(e("input",{"onUpdate:modelValue":t[2]||(t[2]=s=>i.form.slug=s),type:"text",class:"w-full border rounded px-3 py-2 mt-1",required:""},null,512),[[m,i.form.slug]])]),e("div",P,[t[12]||(t[12]=e("label",{class:"block text-gray-700"},"Description",-1)),n(e("textarea",{"onUpdate:modelValue":t[3]||(t[3]=s=>i.form.description=s),class:"w-full border rounded px-3 py-2 mt-1"},null,512),[[m,i.form.description]])]),e("div",T,[t[14]||(t[14]=e("label",{class:"block text-gray-700"},"Active",-1)),n(e("select",{"onUpdate:modelValue":t[4]||(t[4]=s=>i.form.is_active=s),class:"w-full border rounded px-3 py-2 mt-1"},t[13]||(t[13]=[e("option",{value:!0},"Yes",-1),e("option",{value:!1},"No",-1)]),512),[[h,i.form.is_active]])]),e("div",G,[e("button",{type:"button",onClick:t[5]||(t[5]=s=>i.showModal=!1),class:"bg-gray-300 text-gray-700 px-4 py-2 rounded mr-2"},"Cancel"),t[15]||(t[15]=e("button",{type:"submit",class:"bg-blue-500 text-white px-4 py-2 rounded"},"Save",-1))])],32)])])):u("",!0)])}const R=v(w,[["render",H]]);export{R as default};
